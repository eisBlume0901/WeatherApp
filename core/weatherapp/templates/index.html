<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Weather App</title>
    <style>
        .card {
        transform-origin: center;
        will-change: transform;
        }
    </style>
  </head>
  <body class="bg-zinc-900">
    <div class="m-10">
        <h1 class="text-4xl font-bold text-center text-sky-400">How's the weather today?</h1>
    </div>

    <form class="max-w-lg mx-auto" method="GET">
        <div class="flex-1 flex-col">
            <label class="block mb-2.5 text-sky-400 text-md">Search for a city</label>
            <div class="relative mb-10">
                <div class="absolute inset-y-0 start-0 flex items-center ps-3">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6 text-zinc-900">
                      <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd" />
                    </svg>

                </div>
                <input
                  type="text"
                  id="city"
                  name="city"
                  class="w-full p-3 ps-12 bg-sky-50 text-md rounded-md border border-sky-200
                         focus:outline focus:outline-2 focus:outline-sky-400
                         focus:border-sky-400 shadow-xs placeholder:text-body"
                  placeholder="e.g. Paris"
                  required
                />
                <button
                  type="submit"
                  class="absolute top-1/2 -translate-y-1/2 end-1.5
                         h-9 px-3 bg-sky-400 rounded-md text-md text-zinc-900
                         hover:bg-zinc-900 hover:text-sky-100"
                >
                  Search
                </button>
            </div>
        </div>
    </form>

    {% if error_message %}
        <h1 class="text-lime-50 text-4xl">{{ error_message }}</h1>
    {% elif weather_data %}
        <h1 class="text-sky-400 text-4xl text-center mb-10">Current weather in {{ weather_data.city }} City</h1>
        <p class="text-sky-400 text-xl text-center mb-10">Clouds description: {{ weather_data.description }}</p>
        <div class="max-w-6xl mx-auto">
             <div class="flex flex-row justify-center gap-6 h-64">
              <div class="card flex flex-col items-center justify-center text-center bg-sky-100 rounded-md w-full hover:bg-sky-400">
                  <div class="p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="36" height="36" class="mb-2 mx-auto text-zinc-900">
                        <path d="M448 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM320 96a96 96 0 1 1 192 0A96 96 0 1 1 320 96zM144 64c-26.5 0-48 21.5-48 48l0 164.5c0 17.3-7.1 31.9-15.3 42.5C70.2 332.6 64 349.5 64 368c0 44.2 35.8 80 80 80s80-35.8 80-80c0-18.5-6.2-35.4-16.7-48.9c-8.2-10.6-15.3-25.2-15.3-42.5L192 112c0-26.5-21.5-48-48-48zM32 112C32 50.2 82.1 0 144 0s112 50.1 112 112l0 164.4c0 .1 .1 .3 .2 .6c.2 .6 .8 1.6 1.7 2.8c18.9 24.4 30.1 55 30.1 88.1c0 79.5-64.5 144-144 144S0 447.5 0 368c0-33.2 11.2-63.8 30.1-88.1c.9-1.2 1.5-2.2 1.7-2.8c.1-.3 .2-.5 .2-.6L32 112zM192 368c0 26.5-21.5 48-48 48s-48-21.5-48-48c0-20.9 13.4-38.7 32-45.3l0-50.7c0-8.8 7.2-16 16-16s16 7.2 16 16l0 50.7c18.6 6.6 32 24.4 32 45.3z"/>
                    </svg>
                    <h1 class="text-zinc-900 text-xl">Temperature</h1>
                    <p class="text-zinc-900 text-2xl font-bold">{{ weather_data.temperature }} Â°C</p>
                  </div>
              </div>
             <div class="card flex flex-col items-center justify-center text-center bg-sky-100 rounded-md w-full hover:bg-sky-400">
                 <div class="p-4">
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="36" height="36" class="mb-2 mx-auto text-zinc-900">
                         <path d="M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"/>
                     </svg>
                      <h1 class="text-zinc-900 text-xl">Humidity</h1>
                      <p class="text-zinc-900 text-2xl font-bold">{{ weather_data.humidity }} RH</p>
                 </div>
              </div>
            <div class="card flex flex-col items-center justify-center text-center bg-sky-100 rounded-md w-full hover:bg-sky-400">
                <div class="p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="36" height="36" class="mb-2 mx-auto text-zinc-900">
                        <path d="M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM256 416c35.3 0 64-28.7 64-64c0-17.4-6.9-33.1-18.1-44.6L366 161.7c5.3-12.1-.2-26.3-12.3-31.6s-26.3 .2-31.6 12.3L257.9 288c-.6 0-1.3 0-1.9 0c-35.3 0-64 28.7-64 64s28.7 64 64 64zM176 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM96 288a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm352-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/>
                    </svg>
                    <h1 class="text-zinc-900 text-xl">Pressure</h1>
                    <p class="text-zinc-900 text-2xl font-bold">{{ weather_data.pressure }} hPa</p>
                </div>
            </div>
            <div class="card flex flex-col items-center justify-center text-center bg-sky-100 rounded-md w-full hover:bg-sky-400">
                <div class="p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="36" height="36" class="mb-2 mx-auto text-zinc-900">
                        <path d="M288 32c0 17.7 14.3 32 32 32l32 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128c-17.7 0-32 14.3-32 32s14.3 32 32 32l320 0c53 0 96-43 96-96s-43-96-96-96L320 0c-17.7 0-32 14.3-32 32zm64 352c0 17.7 14.3 32 32 32l32 0c53 0 96-43 96-96s-43-96-96-96L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32 14.3-32 32zM128 512l32 0c53 0 96-43 96-96s-43-96-96-96L32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32l128 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32z"/>
                    </svg>
                    <h1 class="text-zinc-900 text-xl">Wind Speed</h1>
                    <p class="text-zinc-900 text-2xl font-bold">{{ weather_data.wind_speed }} m/s</p>
                </div>
            </div>
            </div>
        </div>

  {% endif %}
  </body>
    <script>
      document.querySelectorAll('.card').forEach(card => {
        let anim = null;
        const hoverOptions = { duration: 180, fill: 'forwards', easing: 'cubic-bezier(.2,.8,.2,1)' };

        card.addEventListener('mouseenter', () => {
          if (anim) anim.cancel();
          anim = card.animate(
            [{ transform: 'scale(1)' }, { transform: 'scale(1.05)' }],
            hoverOptions
          );
        });

        card.addEventListener('mouseleave', () => {
          if (anim) anim.cancel();
          anim = card.animate(
            [{ transform: getComputedStyle(card).transform || 'scale(1.05)' }, { transform: 'scale(1)' }],
            hoverOptions
          );
        });
      });
    </script>
</html>
